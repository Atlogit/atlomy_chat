# AMTA Comprehensive Environment Configuration

# Deployment Mode Configuration
# Determines secrets and configuration set
# CRITICAL: Matches AWS Secrets Manager secret naming convention
# Allowed values: development, staging, production
DEPLOYMENT_MODE=development

# AWS Secrets Manager Integration Strategy
# Dynamic retrieval recommended for enhanced security
AWS_SECRETS_MANAGER_SECRET_ID=amta-${DEPLOYMENT_MODE}-secrets
AWS_SECRETS_RETRIEVAL_MODE=dynamic  # Options: dynamic, static

# AWS Credentials (Optional - Prefer AWS Secrets Manager)
# Leave blank if using dynamic secret retrieval
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1

# Data Directories Configuration
# Specify the full path where PostgreSQL should store its data
POSTGRES_DATA_DIR=/home/ec2-user/amta/postgresql/data
DATABASE_BACKUP_DIR=/home/ec2-user/amta/database_backups
JSON_STORAGE_BASE_DIR=/home/ec2-user/amta/lexical_values
# Database Configuration
# Supports both static and dynamic configuration
# Recommended: Use AWS Secrets Manager for credentials
# Full connection string or individual components
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost/amta_greek
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=amta_greek
POSTGRES_USER=local_dev_user
POSTGRES_PASSWORD=dev_password

# Database Connection Pool Configuration
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# Redis Configuration
# Supports dynamic and static configuration
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
CACHE_TTL=3600
TEXT_CACHE_TTL=86400
SEARCH_CACHE_TTL=1800

# AWS Bedrock LLM Configuration
AWS_BEDROCK_REGION=us-east-1
BEDROCK_MODEL_ID=anthropic.claude-3-sonnet-20240229-v1:0

# Bedrock Model Specific Settings
LLM_MAX_TOKENS=8192
LLM_TEMPERATURE=0.5
LLM_TOP_P=0.95
LLM_FREQUENCY_PENALTY=0.0
LLM_PRESENCE_PENALTY=0.0
LLM_RESPONSE_FORMAT=text
LLM_STREAM=false
LLM_MAX_RETRIES=3
LLM_RETRY_DELAY=1.0
LLM_MAX_CONTEXT_LENGTH=180000
LLM_CONTEXT_WINDOW=8192

# Logging and Monitoring
LOG_LEVEL=INFO
LOG_FILE_PATH=/var/log/amta/app.log

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8000
WORKERS=2

# Security Configuration
# CRITICAL: Use AWS Secrets Manager for sensitive values
SECRET_KEY=generate_a_secure_random_key_here
ALLOWED_HOSTS=localhost,127.0.0.1

# Feature Flags
ENABLE_CORS=True
DEBUG_MODE=False

# Secret Rotation Strategy
# Recommended rotation interval: 90 days
SECRET_ROTATION_INTERVAL_DAYS=90

# OpenAI Configuration (Optional)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4

# Local LLM Configuration (Optional)
LOCAL_MODEL_PATH=

# Deployment Specific Flags
DEPLOYMENT_VERIFICATION_ENABLED=True
DEPLOYMENT_LOG_VERBOSITY=detailed

# Network and Connectivity
NETWORK_TIMEOUT=30
CONNECTION_KEEPALIVE=True

# Performance Tuning
MAX_CONCURRENT_REQUESTS=100
REQUEST_TIMEOUT=60

# Experimental Features
ENABLE_ADVANCED_LOGGING=False
ENABLE_PERFORMANCE_TRACING=False
